<script>
    const handleSuccess = async function(stream) {
      const context = new AudioContext();
      const source = context.createMediaStreamSource(stream);
  
      await context.audioWorklet.addModule("processor.js");
      const worklet = new AudioWorkletNode(context, "worklet-processor");
  
      source.connect(worklet);
      worklet.connect(context.destination);
    };
  
    navigator.mediaDevices.getUserMedia({ audio: true, video: false })
        .then(handleSuccess);
  </script>